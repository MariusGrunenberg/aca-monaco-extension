/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define("tsickle/src/typescript", ["require", "exports", "typescript", "typescript"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * @fileoverview Abstraction over the TypeScript API that makes multiple
     * versions of TypeScript appear to be interoperable. Any time a breaking change
     * in TypeScript affects Tsickle code, we should extend this shim to present an
     * unbroken API.
     * All code in tsickle should import from this location, not from 'typescript'.
     */
    // tslint:disable:no-any We need to do various unsafe casts between TS versions
    var ts = require("typescript");
    var typescript_1 = require("typescript");
    exports.addSyntheticLeadingComment = typescript_1.addSyntheticLeadingComment;
    exports.addSyntheticTrailingComment = typescript_1.addSyntheticTrailingComment;
    exports.createArrayLiteral = typescript_1.createArrayLiteral;
    exports.createArrayTypeNode = typescript_1.createArrayTypeNode;
    exports.createArrowFunction = typescript_1.createArrowFunction;
    exports.createAssignment = typescript_1.createAssignment;
    exports.createBinary = typescript_1.createBinary;
    exports.createBlock = typescript_1.createBlock;
    exports.createCall = typescript_1.createCall;
    exports.createCompilerHost = typescript_1.createCompilerHost;
    exports.createElementAccess = typescript_1.createElementAccess;
    exports.createExportSpecifier = typescript_1.createExportSpecifier;
    exports.createFunctionDeclaration = typescript_1.createFunctionDeclaration;
    exports.createFunctionExpression = typescript_1.createFunctionExpression;
    exports.createFunctionTypeNode = typescript_1.createFunctionTypeNode;
    exports.createIdentifier = typescript_1.createIdentifier;
    exports.createIf = typescript_1.createIf;
    exports.createIndexSignature = typescript_1.createIndexSignature;
    exports.createKeywordTypeNode = typescript_1.createKeywordTypeNode;
    exports.createLiteral = typescript_1.createLiteral;
    exports.createLiteralTypeNode = typescript_1.createLiteralTypeNode;
    exports.createNamedExports = typescript_1.createNamedExports;
    exports.createNodeArray = typescript_1.createNodeArray;
    exports.createNotEmittedStatement = typescript_1.createNotEmittedStatement;
    exports.createNull = typescript_1.createNull;
    exports.createObjectLiteral = typescript_1.createObjectLiteral;
    exports.createParameter = typescript_1.createParameter;
    exports.createParen = typescript_1.createParen;
    exports.createProgram = typescript_1.createProgram;
    exports.createProperty = typescript_1.createProperty;
    exports.createPropertyAccess = typescript_1.createPropertyAccess;
    exports.createPropertyAssignment = typescript_1.createPropertyAssignment;
    exports.createPropertySignature = typescript_1.createPropertySignature;
    exports.createSourceFile = typescript_1.createSourceFile;
    exports.createStatement = typescript_1.createStatement;
    exports.createToken = typescript_1.createToken;
    exports.createTypeLiteralNode = typescript_1.createTypeLiteralNode;
    exports.createTypeReferenceNode = typescript_1.createTypeReferenceNode;
    exports.createUnionTypeNode = typescript_1.createUnionTypeNode;
    exports.createVariableDeclaration = typescript_1.createVariableDeclaration;
    exports.createVariableDeclarationList = typescript_1.createVariableDeclarationList;
    exports.createVariableStatement = typescript_1.createVariableStatement;
    exports.DiagnosticCategory = typescript_1.DiagnosticCategory;
    exports.EmitFlags = typescript_1.EmitFlags;
    exports.flattenDiagnosticMessageText = typescript_1.flattenDiagnosticMessageText;
    exports.forEachChild = typescript_1.forEachChild;
    exports.formatDiagnostics = typescript_1.formatDiagnostics;
    exports.getCombinedModifierFlags = typescript_1.getCombinedModifierFlags;
    exports.getCombinedNodeFlags = typescript_1.getCombinedNodeFlags;
    exports.getLeadingCommentRanges = typescript_1.getLeadingCommentRanges;
    exports.getLineAndCharacterOfPosition = typescript_1.getLineAndCharacterOfPosition;
    exports.getMutableClone = typescript_1.getMutableClone;
    exports.getOriginalNode = typescript_1.getOriginalNode;
    exports.getPreEmitDiagnostics = typescript_1.getPreEmitDiagnostics;
    exports.getSyntheticLeadingComments = typescript_1.getSyntheticLeadingComments;
    exports.getSyntheticTrailingComments = typescript_1.getSyntheticTrailingComments;
    exports.getTrailingCommentRanges = typescript_1.getTrailingCommentRanges;
    exports.IndexKind = typescript_1.IndexKind;
    exports.isArrowFunction = typescript_1.isArrowFunction;
    exports.isAssertionExpression = typescript_1.isAssertionExpression;
    exports.isBinaryExpression = typescript_1.isBinaryExpression;
    exports.isCallExpression = typescript_1.isCallExpression;
    exports.isExportAssignment = typescript_1.isExportAssignment;
    exports.isExportDeclaration = typescript_1.isExportDeclaration;
    exports.isExpressionStatement = typescript_1.isExpressionStatement;
    exports.isExternalModule = typescript_1.isExternalModule;
    exports.isExternalModuleReference = typescript_1.isExternalModuleReference;
    exports.isFunctionDeclaration = typescript_1.isFunctionDeclaration;
    exports.isIdentifier = typescript_1.isIdentifier;
    exports.isImportDeclaration = typescript_1.isImportDeclaration;
    exports.isImportEqualsDeclaration = typescript_1.isImportEqualsDeclaration;
    exports.isInterfaceDeclaration = typescript_1.isInterfaceDeclaration;
    exports.isLiteralExpression = typescript_1.isLiteralExpression;
    exports.isLiteralTypeNode = typescript_1.isLiteralTypeNode;
    exports.isMethodSignature = typescript_1.isMethodSignature;
    exports.isModuleBlock = typescript_1.isModuleBlock;
    exports.isModuleDeclaration = typescript_1.isModuleDeclaration;
    exports.isNamedImports = typescript_1.isNamedImports;
    exports.isNamespaceExportDeclaration = typescript_1.isNamespaceExportDeclaration;
    exports.isNamespaceImport = typescript_1.isNamespaceImport;
    exports.isNonNullExpression = typescript_1.isNonNullExpression;
    exports.isObjectLiteralExpression = typescript_1.isObjectLiteralExpression;
    exports.isParenthesizedExpression = typescript_1.isParenthesizedExpression;
    exports.isPropertyAccessExpression = typescript_1.isPropertyAccessExpression;
    exports.isPropertyAssignment = typescript_1.isPropertyAssignment;
    exports.isPropertyDeclaration = typescript_1.isPropertyDeclaration;
    exports.isPropertySignature = typescript_1.isPropertySignature;
    exports.isQualifiedName = typescript_1.isQualifiedName;
    exports.isSourceFile = typescript_1.isSourceFile;
    exports.isStringLiteral = typescript_1.isStringLiteral;
    exports.isTypeReferenceNode = typescript_1.isTypeReferenceNode;
    exports.isVariableDeclaration = typescript_1.isVariableDeclaration;
    exports.isVariableStatement = typescript_1.isVariableStatement;
    exports.ModifierFlags = typescript_1.ModifierFlags;
    exports.ModuleKind = typescript_1.ModuleKind;
    exports.NodeFlags = typescript_1.NodeFlags;
    exports.ObjectFlags = typescript_1.ObjectFlags;
    exports.parseCommandLine = typescript_1.parseCommandLine;
    exports.parseJsonConfigFileContent = typescript_1.parseJsonConfigFileContent;
    exports.readConfigFile = typescript_1.readConfigFile;
    exports.resolveModuleName = typescript_1.resolveModuleName;
    exports.ScriptTarget = typescript_1.ScriptTarget;
    exports.setCommentRange = typescript_1.setCommentRange;
    exports.setEmitFlags = typescript_1.setEmitFlags;
    exports.setOriginalNode = typescript_1.setOriginalNode;
    exports.setSourceMapRange = typescript_1.setSourceMapRange;
    exports.setSyntheticLeadingComments = typescript_1.setSyntheticLeadingComments;
    exports.setSyntheticTrailingComments = typescript_1.setSyntheticTrailingComments;
    exports.setTextRange = typescript_1.setTextRange;
    exports.SignatureKind = typescript_1.SignatureKind;
    exports.SymbolFlags = typescript_1.SymbolFlags;
    exports.SymbolFormatFlags = typescript_1.SymbolFormatFlags;
    exports.SyntaxKind = typescript_1.SyntaxKind;
    exports.sys = typescript_1.sys;
    exports.TypeFlags = typescript_1.TypeFlags;
    exports.updateAsExpression = typescript_1.updateAsExpression;
    exports.updateBlock = typescript_1.updateBlock;
    exports.updateConstructor = typescript_1.updateConstructor;
    exports.updateExportDeclaration = typescript_1.updateExportDeclaration;
    exports.updateExpressionWithTypeArguments = typescript_1.updateExpressionWithTypeArguments;
    exports.updateGetAccessor = typescript_1.updateGetAccessor;
    exports.updateHeritageClause = typescript_1.updateHeritageClause;
    exports.updateMethod = typescript_1.updateMethod;
    exports.updateNamedExports = typescript_1.updateNamedExports;
    exports.updateNonNullExpression = typescript_1.updateNonNullExpression;
    exports.updateParameter = typescript_1.updateParameter;
    exports.updateSetAccessor = typescript_1.updateSetAccessor;
    exports.updateSourceFileNode = typescript_1.updateSourceFileNode;
    exports.updateTypeAssertion = typescript_1.updateTypeAssertion;
    exports.visitEachChild = typescript_1.visitEachChild;
    exports.visitFunctionBody = typescript_1.visitFunctionBody;
    exports.visitLexicalEnvironment = typescript_1.visitLexicalEnvironment;
    exports.visitNode = typescript_1.visitNode;
    exports.visitParameterList = typescript_1.visitParameterList;
    // tslint:disable-next-line:variable-name Re-exporting JSDocSignature for backwards compat.
    exports.SyntaxKindJSDocSignature = ts.SyntaxKind.JSDocSignature;
    // getEmitFlags is now private starting in TS 2.5.
    // So we define our own method that calls through to TypeScript to defeat the
    // visibility constraint.
    function getEmitFlags(node) {
        return ts.getEmitFlags(node);
    }
    exports.getEmitFlags = getEmitFlags;
    // Between TypeScript 2.4 and 2.5 updateProperty was modified. If called with 2.4 re-order the
    // parameters.
    exports.updateProperty = ts.updateProperty;
    var _a = __read(ts.version.split('.'), 2), major = _a[0], minor = _a[1];
    if (major === '2' && minor === '4') {
        var updateProperty24_1 = ts.updateProperty;
        exports.updateProperty = function (node, decorators, modifiers, name, questionToken, type, initializer) {
            return updateProperty24_1(node, decorators, modifiers, name, type, initializer);
        };
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXNjcmlwdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy90eXBlc2NyaXB0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVIOzs7Ozs7T0FNRztJQUVILCtFQUErRTtJQUUvRSwrQkFBaUM7SUFLakMseUNBQWdxSTtJQUE5b0ksa0RBQUEsMEJBQTBCLENBQUE7SUFBRSxtREFBQSwyQkFBMkIsQ0FBQTtJQUE0TiwwQ0FBQSxrQkFBa0IsQ0FBQTtJQUFFLDJDQUFBLG1CQUFtQixDQUFBO0lBQUUsMkNBQUEsbUJBQW1CLENBQUE7SUFBRSx3Q0FBQSxnQkFBZ0IsQ0FBQTtJQUFFLG9DQUFBLFlBQVksQ0FBQTtJQUFFLG1DQUFBLFdBQVcsQ0FBQTtJQUFFLGtDQUFBLFVBQVUsQ0FBQTtJQUFFLDBDQUFBLGtCQUFrQixDQUFBO0lBQUUsMkNBQUEsbUJBQW1CLENBQUE7SUFBRSw2Q0FBQSxxQkFBcUIsQ0FBQTtJQUFFLGlEQUFBLHlCQUF5QixDQUFBO0lBQUUsZ0RBQUEsd0JBQXdCLENBQUE7SUFBRSw4Q0FBQSxzQkFBc0IsQ0FBQTtJQUFFLHdDQUFBLGdCQUFnQixDQUFBO0lBQUUsZ0NBQUEsUUFBUSxDQUFBO0lBQUUsNENBQUEsb0JBQW9CLENBQUE7SUFBRSw2Q0FBQSxxQkFBcUIsQ0FBQTtJQUFFLHFDQUFBLGFBQWEsQ0FBQTtJQUFFLDZDQUFBLHFCQUFxQixDQUFBO0lBQUUsMENBQUEsa0JBQWtCLENBQUE7SUFBRSx1Q0FBQSxlQUFlLENBQUE7SUFBRSxpREFBQSx5QkFBeUIsQ0FBQTtJQUFFLGtDQUFBLFVBQVUsQ0FBQTtJQUFFLDJDQUFBLG1CQUFtQixDQUFBO0lBQUUsdUNBQUEsZUFBZSxDQUFBO0lBQUUsbUNBQUEsV0FBVyxDQUFBO0lBQUUscUNBQUEsYUFBYSxDQUFBO0lBQUUsc0NBQUEsY0FBYyxDQUFBO0lBQUUsNENBQUEsb0JB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QUFHLEVBQUUsQ0FBQyxjQUFtRCxDQUFDO1FBQ2hGLHNCQUFjLEdBQUcsVUFBQyxJQUE0QixFQUFFLFVBQWlELEVBQy9FLFNBQStDLEVBQUUsSUFBNEIsRUFDN0UsYUFBeUMsRUFBRSxJQUEyQixFQUN0RSxXQUFvQztZQUNwRCxPQUFPLGtCQUFnQixDQUNaLElBQXVDLEVBQUUsVUFBcUMsRUFDOUUsU0FBZ0IsRUFBRSxJQUFXLEVBQUUsSUFBVyxFQUFFLFdBQWtCLENBQVEsQ0FBQztRQUNwRixDQUFDLENBQUM7S0FDSCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEFic3RyYWN0aW9uIG92ZXIgdGhlIFR5cGVTY3JpcHQgQVBJIHRoYXQgbWFrZXMgbXVsdGlwbGVcbiAqIHZlcnNpb25zIG9mIFR5cGVTY3JpcHQgYXBwZWFyIHRvIGJlIGludGVyb3BlcmFibGUuIEFueSB0aW1lIGEgYnJlYWtpbmcgY2hhbmdlXG4gKiBpbiBUeXBlU2NyaXB0IGFmZmVjdHMgVHNpY2tsZSBjb2RlLCB3ZSBzaG91bGQgZXh0ZW5kIHRoaXMgc2hpbSB0byBwcmVzZW50IGFuXG4gKiB1bmJyb2tlbiBBUEkuXG4gKiBBbGwgY29kZSBpbiB0c2lja2xlIHNob3VsZCBpbXBvcnQgZnJvbSB0aGlzIGxvY2F0aW9uLCBub3QgZnJvbSAndHlwZXNjcmlwdCcuXG4gKi9cblxuLy8gdHNsaW50OmRpc2FibGU6bm8tYW55IFdlIG5lZWQgdG8gZG8gdmFyaW91cyB1bnNhZmUgY2FzdHMgYmV0d2VlbiBUUyB2ZXJzaW9uc1xuXG5pbXBvcnQgKiBhcyB0cyBmcm9tICd0eXBlc2NyaXB0JztcblxuLy8gTm90ZSwgdGhpcyBpbXBvcnQgZGVwZW5kcyBvbiBhIGdlbnJ1bGUgY29weWluZyB0aGUgLmQudHMgZmlsZSB0byB0aGlzIHBhY2thZ2VcbmltcG9ydCAqIGFzIHRzMjQgZnJvbSAnLi90eXBlc2NyaXB0LTIuNCc7XG5cbmV4cG9ydCB7X19TdHJpbmcsIGFkZFN5bnRoZXRpY0xlYWRpbmdDb21tZW50LCBhZGRTeW50aGV0aWNUcmFpbGluZ0NvbW1lbnQsIEFzRXhwcmVzc2lvbiwgQXNzZXJ0aW9uRXhwcmVzc2lvbiwgQmluYXJ5RXhwcmVzc2lvbiwgQmxvY2ssIENhbGxFeHByZXNzaW9uLCBDYW5jZWxsYXRpb25Ub2tlbiwgQ2xhc3NEZWNsYXJhdGlvbiwgQ2xhc3NFbGVtZW50LCBDbGFzc0xpa2VEZWNsYXJhdGlvbiwgQ29tbWVudFJhbmdlLCBDb21waWxlckhvc3QsIENvbXBpbGVyT3B0aW9ucywgQ29uc3RydWN0b3JEZWNsYXJhdGlvbiwgY3JlYXRlQXJyYXlMaXRlcmFsLCBjcmVhdGVBcnJheVR5cGVOb2RlLCBjcmVhdGVBcnJvd0Z1bmN0aW9uLCBjcmVhdGVBc3NpZ25tZW50LCBjcmVhdGVCaW5hcnksIGNyZWF0ZUJsb2NrLCBjcmVhdGVDYWxsLCBjcmVhdGVDb21waWxlckhvc3QsIGNyZWF0ZUVsZW1lbnRBY2Nlc3MsIGNyZWF0ZUV4cG9ydFNwZWNpZmllciwgY3JlYXRlRnVuY3Rpb25EZWNsYXJhdGlvbiwgY3JlYXRlRnVuY3Rpb25FeHByZXNzaW9uLCBjcmVhdGVGdW5jdGlvblR5cGVOb2RlLCBjcmVhdGVJZGVudGlmaWVyLCBjcmVhdGVJZiwgY3JlYXRlSW5kZXhTaWduYXR1cmUsIGNyZWF0ZUtleXdvcmRUeXBlTm9kZSwgY3JlYXRlTGl0ZXJhbCwgY3JlYXRlTGl0ZXJhbFR5cGVOb2RlLCBjcmVhdGVOYW1lZEV4cG9ydHMsIGNyZWF0ZU5vZGVBcnJheSwgY3JlYXRlTm90RW1pdHRlZFN0YXRlbWVudCwgY3JlYXRlTnVsbCwgY3JlYXRlT2JqZWN0TGl0ZXJhbCwgY3JlYXRlUGFyYW1ldGVyLCBjcmVhdGVQYXJlbiwgY3JlYXRlUHJvZ3JhbSwgY3JlYXRlUHJvcGVydHksIGNyZWF0ZVByb3BlcnR5QWNjZXNzLCBjcmVhdGVQcm9wZXJ0eUFzc2lnbm1lbnQsIGNyZWF0ZVByb3BlcnR5U2lnbmF0dXJlLCBjcmVhdGVTb3VyY2VGaWxlLCBjcmVhdGVTdGF0ZW1lbnQsIGNyZWF0ZVRva2VuLCBjcmVhdGVUeXBlTGl0ZXJhbE5vZGUsIGNyZWF0ZVR5cGVSZWZlcmVuY2VOb2RlLCBjcmVhdGVVbmlvblR5cGVOb2RlLCBjcmVhdGVWYXJpYWJsZURlY2xhcmF0aW9uLCBjcmVhdGVWYXJpYWJsZURlY2xhcmF0aW9uTGlzdCwgY3JlYXRlVmFyaWFibGVTdGF0ZW1lbnQsIEN1c3RvbVRyYW5zZm9ybWVycywgRGVjbGFyYXRpb24sIERlY2xhcmF0aW9uU3RhdGVtZW50LCBEZWNsYXJhdGlvbldpdGhUeXBlUGFyYW1ldGVycywgRGVjb3JhdG9yLCBEaWFnbm9zdGljLCBEaWFnbm9zdGljQ2F0ZWdvcnksIEVsZW1lbnRBY2Nlc3NFeHByZXNzaW9uLCBFbWl0RmxhZ3MsIEVtaXRSZXN1bHQsIEVudGl0eU5hbWUsIEVudW1EZWNsYXJhdGlvbiwgRW51bU1lbWJlciwgRXhwb3J0RGVjbGFyYXRpb24sIEV4cG9ydFNwZWNpZmllciwgRXhwcmVzc2lvbiwgRXhwcmVzc2lvblN0YXRlbWVudCwgZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dCwgZm9yRWFjaENoaWxkLCBmb3JtYXREaWFnbm9zdGljcywgRm9ybWF0RGlhZ25vc3RpY3NIb3N0LCBGdW5jdGlvbkRlY2xhcmF0aW9uLCBGdW5jdGlvbkxpa2VEZWNsYXJhdGlvbiwgR2V0QWNjZXNzb3JEZWNsYXJhdGlvbiwgZ2V0Q29tYmluZWRNb2RpZmllckZsYWdzLCBnZXRDb21iaW5lZE5vZGVGbGFncywgZ2V0TGVhZGluZ0NvbW1lbnRSYW5nZXMsIGdldExpbmVBbmRDaGFyYWN0ZXJPZlBvc2l0aW9uLCBnZXRNdXRhYmxlQ2xvbmUsIGdldE9yaWdpbmFsTm9kZSwgZ2V0UHJlRW1pdERpYWdub3N0aWNzLCBnZXRTeW50aGV0aWNMZWFkaW5nQ29tbWVudHMsIGdldFN5bnRoZXRpY1RyYWlsaW5nQ29tbWVudHMsIGdldFRyYWlsaW5nQ29tbWVudFJhbmdlcywgSGVyaXRhZ2VDbGF1c2UsIElkZW50aWZpZXIsIElmU3RhdGVtZW50LCBJbXBvcnREZWNsYXJhdGlvbiwgSW1wb3J0RXF1YWxzRGVjbGFyYXRpb24sIEltcG9ydFNwZWNpZmllciwgSW5kZXhLaW5kLCBJbnRlcmZhY2VEZWNsYXJhdGlvbiwgaXNBcnJvd0Z1bmN0aW9uLCBpc0Fzc2VydGlvbkV4cHJlc3Npb24sIGlzQmluYXJ5RXhwcmVzc2lvbiwgaXNDYWxsRXhwcmVzc2lvbiwgaXNFeHBvcnRBc3NpZ25tZW50LCBpc0V4cG9ydERlY2xhcmF0aW9uLCBpc0V4cHJlc3Npb25TdGF0ZW1lbnQsIGlzRXh0ZXJuYWxNb2R1bGUsIGlzRXh0ZXJuYWxNb2R1bGVSZWZlcmVuY2UsIGlzRnVuY3Rpb25EZWNsYXJhdGlvbiwgaXNJZGVudGlmaWVyLCBpc0ltcG9ydERlY2xhcmF0aW9uLCBpc0ltcG9ydEVxdWFsc0RlY2xhcmF0aW9uLCBpc0ludGVyZmFjZURlY2xhcmF0aW9uLCBpc0xpdGVyYWxFeHByZXNzaW9uLCBpc0xpdGVyYWxUeXBlTm9kZSwgaXNNZXRob2RTaWduYXR1cmUsIGlzTW9kdWxlQmxvY2ssIGlzTW9kdWxlRGVjbGFyYXRpb24sIGlzTmFtZWRJbXBvcnRzLCBpc05hbWVzcGFjZUV4cG9ydERlY2xhcmF0aW9uLCBpc05hbWVzcGFjZUltcG9ydCwgaXNOb25OdWxsRXhwcmVzc2lvbiwgaXNPYmplY3RMaXRlcmFsRXhwcmVzc2lvbiwgaXNQYXJlbnRoZXNpemVkRXhwcmVzc2lvbiwgaXNQcm9wZXJ0eUFjY2Vzc0V4cHJlc3Npb24sIGlzUHJvcGVydHlBc3NpZ25tZW50LCBpc1Byb3BlcnR5RGVjbGFyYXRpb24sIGlzUHJvcGVydHlTaWduYXR1cmUsIGlzUXVhbGlmaWVkTmFtZSwgaXNTb3VyY2VGaWxlLCBpc1N0cmluZ0xpdGVyYWwsIGlzVHlwZVJlZmVyZW5jZU5vZGUsIGlzVmFyaWFibGVEZWNsYXJhdGlvbiwgaXNWYXJpYWJsZVN0YXRlbWVudCwgTWV0aG9kRGVjbGFyYXRpb24sIE1vZGlmaWVyLCBNb2RpZmllckZsYWdzLCBNb2R1bGVCbG9jaywgTW9kdWxlRGVjbGFyYXRpb24sIE1vZHVsZUtpbmQsIE1vZHVsZVJlc29sdXRpb25Ib3N0LCBOYW1lZERlY2xhcmF0aW9uLCBOYW1lZEltcG9ydHMsIE5hbWVzcGFjZUV4cG9ydERlY2xhcmF0aW9uLCBOb2RlLCBOb2RlQXJyYXksIE5vZGVGbGFncywgTm9uTnVsbEV4cHJlc3Npb24sIE5vdEVtaXR0ZWRTdGF0ZW1lbnQsIE9iamVjdEZsYWdzLCBPYmplY3RMaXRlcmFsRWxlbWVudExpa2UsIE9iamVjdExpdGVyYWxFeHByZXNzaW9uLCBPYmplY3RUeXBlLCBQYXJhbWV0ZXJEZWNsYXJhdGlvbiwgcGFyc2VDb21tYW5kTGluZSwgcGFyc2VKc29uQ29uZmlnRmlsZUNvbnRlbnQsIFByb2dyYW0sIFByb3BlcnR5QWNjZXNzRXhwcmVzc2lvbiwgUHJvcGVydHlBc3NpZ25tZW50LCBQcm9wZXJ0eURlY2xhcmF0aW9uLCBQcm9wZXJ0eU5hbWUsIFByb3BlcnR5U2lnbmF0dXJlLCBRdWFsaWZpZWROYW1lLCByZWFkQ29uZmlnRmlsZSwgcmVzb2x2ZU1vZHVsZU5hbWUsIFNjcmlwdFRhcmdldCwgU2V0QWNjZXNzb3JEZWNsYXJhdGlvbiwgc2V0Q29tbWVudFJhbmdlLCBzZXRFbWl0RmxhZ3MsIHNldE9yaWdpbmFsTm9kZSwgc2V0U291cmNlTWFwUmFuZ2UsIHNldFN5bnRoZXRpY0xlYWRpbmdDb21tZW50cywgc2V0U3ludGhldGljVHJhaWxpbmdDb21tZW50cywgc2V0VGV4dFJhbmdlLCBTaWduYXR1cmUsIFNpZ25hdHVyZURlY2xhcmF0aW9uLCBTaWduYXR1cmVLaW5kLCBTb3VyY2VGaWxlLCBTdGF0ZW1lbnQsIFN0cmluZ0xpdGVyYWwsIFN5bWJvbCwgU3ltYm9sRmxhZ3MsIFN5bWJvbEZvcm1hdEZsYWdzLCBTeW1ib2xXcml0ZXIsIFN5bnRheEtpbmQsIFN5bnRoZXNpemVkQ29tbWVudCwgc3lzLCBUZXh0UmFuZ2UsIFRva2VuLCBUcmFuc2Zvcm1hdGlvbkNvbnRleHQsIFRyYW5zZm9ybWVyLCBUcmFuc2Zvcm1lckZhY3RvcnksIFR5cGUsIFR5cGVBbGlhc0RlY2xhcmF0aW9uLCBUeXBlQXNzZXJ0aW9uLCBUeXBlQ2hlY2tlciwgVHlwZUVsZW1lbnQsIFR5cGVGbGFncywgVHlwZU5vZGUsIFR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbiwgVHlwZVJlZmVyZW5jZSwgVHlwZVJlZmVyZW5jZU5vZGUsIFVuaW9uVHlwZSwgdXBkYXRlQXNFeHByZXNzaW9uLCB1cGRhdGVCbG9jaywgdXBkYXRlQ29uc3RydWN0b3IsIHVwZGF0ZUV4cG9ydERlY2xhcmF0aW9uLCB1cGRhdGVFeHByZXNzaW9uV2l0aFR5cGVBcmd1bWVudHMsIHVwZGF0ZUdldEFjY2Vzc29yLCB1cGRhdGVIZXJpdGFnZUNsYXVzZSwgdXBkYXRlTWV0aG9kLCB1cGRhdGVOYW1lZEV4cG9ydHMsIHVwZGF0ZU5vbk51bGxFeHByZXNzaW9uLCB1cGRhdGVQYXJhbWV0ZXIsIHVwZGF0ZVNldEFjY2Vzc29yLCB1cGRhdGVTb3VyY2VGaWxlTm9kZSwgdXBkYXRlVHlwZUFzc2VydGlvbiwgVmFyaWFibGVEZWNsYXJhdGlvbiwgVmFyaWFibGVTdGF0ZW1lbnQsIHZpc2l0RWFjaENoaWxkLCB2aXNpdEZ1bmN0aW9uQm9keSwgdmlzaXRMZXhpY2FsRW52aXJvbm1lbnQsIHZpc2l0Tm9kZSwgVmlzaXRvciwgdmlzaXRQYXJhbWV0ZXJMaXN0LCBXcml0ZUZpbGVDYWxsYmFja30gZnJvbSAndHlwZXNjcmlwdCc7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lIFJlLWV4cG9ydGluZyBKU0RvY1NpZ25hdHVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdC5cbmV4cG9ydCBjb25zdCBTeW50YXhLaW5kSlNEb2NTaWduYXR1cmUgPSB0cy5TeW50YXhLaW5kLkpTRG9jU2lnbmF0dXJlO1xuXG4vLyBnZXRFbWl0RmxhZ3MgaXMgbm93IHByaXZhdGUgc3RhcnRpbmcgaW4gVFMgMi41LlxuLy8gU28gd2UgZGVmaW5lIG91ciBvd24gbWV0aG9kIHRoYXQgY2FsbHMgdGhyb3VnaCB0byBUeXBlU2NyaXB0IHRvIGRlZmVhdCB0aGVcbi8vIHZpc2liaWxpdHkgY29uc3RyYWludC5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbWl0RmxhZ3Mobm9kZTogdHMuTm9kZSk6IHRzLkVtaXRGbGFnc3x1bmRlZmluZWQge1xuICByZXR1cm4gKHRzIGFzIGFueSkuZ2V0RW1pdEZsYWdzKG5vZGUpO1xufVxuXG4vLyBCZXR3ZWVuIFR5cGVTY3JpcHQgMi40IGFuZCAyLjUgdXBkYXRlUHJvcGVydHkgd2FzIG1vZGlmaWVkLiBJZiBjYWxsZWQgd2l0aCAyLjQgcmUtb3JkZXIgdGhlXG4vLyBwYXJhbWV0ZXJzLlxuZXhwb3J0IGxldCB1cGRhdGVQcm9wZXJ0eSA9IHRzLnVwZGF0ZVByb3BlcnR5O1xuXG5jb25zdCBbbWFqb3IsIG1pbm9yXSA9IHRzLnZlcnNpb24uc3BsaXQoJy4nKTtcbmlmIChtYWpvciA9PT0gJzInICYmIG1pbm9yID09PSAnNCcpIHtcbiAgY29uc3QgdXBkYXRlUHJvcGVydHkyNCA9IHRzLnVwZGF0ZVByb3BlcnR5IGFzIGFueSBhcyB0eXBlb2YgdHMyNC51cGRhdGVQcm9wZXJ0eTtcbiAgdXBkYXRlUHJvcGVydHkgPSAobm9kZTogdHMuUHJvcGVydHlEZWNsYXJhdGlvbiwgZGVjb3JhdG9yczogUmVhZG9ubHlBcnJheTx0cy5EZWNvcmF0b3I+fHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBSZWFkb25seUFycmF5PHRzLk1vZGlmaWVyPnx1bmRlZmluZWQsIG5hbWU6IHN0cmluZ3x0cy5Qcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uVG9rZW46IHRzLlF1ZXN0aW9uVG9rZW58dW5kZWZpbmVkLCB0eXBlOiB0cy5UeXBlTm9kZXx1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVyOiB0cy5FeHByZXNzaW9ufHVuZGVmaW5lZCk6IHRzLlByb3BlcnR5RGVjbGFyYXRpb24gPT4ge1xuICAgIHJldHVybiB1cGRhdGVQcm9wZXJ0eTI0KFxuICAgICAgICAgICAgICAgbm9kZSBhcyBhbnkgYXMgdHMyNC5Qcm9wZXJ0eURlY2xhcmF0aW9uLCBkZWNvcmF0b3JzIGFzIGFueSBhcyB0czI0LkRlY29yYXRvcltdLFxuICAgICAgICAgICAgICAgbW9kaWZpZXJzIGFzIGFueSwgbmFtZSBhcyBhbnksIHR5cGUgYXMgYW55LMKgaW5pdGlhbGl6ZXIgYXMgYW55KSBhcyBhbnk7XG4gIH07XG59XG4iXX0=