{"version":3,"sources":["ng://monaco-extension/lib/monaco-view.component.ts","ng://monaco-extension/lib/monaco-view.module.ts"],"names":["MonacoViewComponent","apiService","this","editorOptions","theme","language","autoIndent","formatOnPaste","formatOnType","prototype","onInit","editor","indentCode","_this","setTimeout","getAction","run","ngOnInit","nodesApi","getFileContent","node","id","then","fileContent","code","err","console","log","Component","args","selector","template","encapsulation","ViewEncapsulation","None","host","class","AlfrescoApiService","Input","components","AcaMonacoModule","extensions","setComponents","monaco-extension.main.component","NgModule","imports","CoreModule","forChild","MonacoEditorModule","forRoot","declarations","exports","entryComponents","ExtensionService"],"mappings":"qhBA+DI,SAAAA,EAAoBC,GAAAC,KAAAD,WAAAA,EAbpBC,KAAAC,cAAgB,CACZC,MAAO,UACPC,SAAU,OACVC,YAAY,EACZC,eAAe,EACfC,cAAc,GAyBtB,OAtBIR,EAAAS,UAAAC,OAAA,SAAOC,GACHT,KAAKS,OAASA,EACdT,KAAKU,cAMTZ,EAAAS,UAAAG,WAAA,WAAA,IAAAC,EAAAX,KACIY,WAAW,WACPD,EAAKF,OAAOI,UAAU,gCAAgCC,OACvD,MAGPhB,EAAAS,UAAAQ,SAAA,WAAA,IAAAJ,EAAAX,KACIA,KAAKD,WAAWiB,SAASC,eAAejB,KAAKkB,KAAKC,IAAIC,KAClD,SAACC,GACGV,EAAKW,KAAQD,GAEjB,SAAAE,GAAO,OAAAC,QAAQC,IAAIF,0BA3C9BG,EAAAA,UAASC,KAAA,CAAC,CACPC,SAAU,kBACVC,SAAA,uPAEAC,cAAeC,EAAAA,kBAAkBC,KACjCC,KAAM,CAACC,QAAS,yGAPZC,EAAAA,mDAWHC,EAAAA,oBAGAA,EAAAA,SAkCLtC,KC1EA,SAAAuC,IACE,MAAO,CAACvC,GAGV,IAAAwC,EAAA,WAOE,SAAAA,EAAYC,GACVA,EAAWC,cAAc,CACvBC,kCAAmC3C,IAGzC,2BAZC4C,EAAAA,SAAQf,KAAA,CAAC,CACRgB,QAAS,CAACC,EAAAA,WAAWC,WAAYC,EAAAA,mBAAmBC,WACpDC,aAAcX,IACdY,QAASZ,IACTa,gBAAiBb,iDAZVc,EAAAA,oBAoBTb,EAZA","sourcesContent":["/*!\n * @license\n * Alfresco Example Content Application\n *\n * Copyright (C) 2005 - 2018 Alfresco Software Limited\n *\n * This file is part of the Alfresco Example Content Application.\n * If the software was purchased under a paid Alfresco license, the terms of\n * the paid license agreement will prevail.  Otherwise, the software is\n * provided under the following open source license terms:\n *\n * The Alfresco Example Content Application is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * The Alfresco Example Content Application is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Alfresco. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {\n    Component,\n    Input,\n    OnInit,\n    ViewEncapsulation\n} from '@angular/core';\nimport {MinimalNodeEntryEntity} from 'alfresco-js-api';\nimport {AlfrescoApiService} from '@alfresco/adf-core';\n\n@Component({\n    selector: 'aca-monaco-view',\n    templateUrl: './monaco-view.component.html',\n    styleUrls: ['./monaco-view.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n    host: {'class': 'aca-monaco-view'}\n})\nexport class MonacoViewComponent implements OnInit {\n\n    @Input()\n    url: string;\n\n    @Input()\n    node: MinimalNodeEntryEntity;\n    editor: any;\n    code: any;\n    editorOptions = {\n        theme: 'vs-dark',\n        language: 'json',\n        autoIndent: true,\n        formatOnPaste: true,\n        formatOnType: true\n    };\n\n    onInit(editor) {\n        this.editor = editor;\n        this.indentCode();\n    }\n\n    constructor(private apiService: AlfrescoApiService) {\n    }\n\n    indentCode() {\n        setTimeout(() => {\n            this.editor.getAction('editor.action.formatDocument').run();\n        }, 300);\n    }\n\n    ngOnInit() {\n        this.apiService.nodesApi.getFileContent(this.node.id).then(\n            (fileContent) => {\n                this.code  = fileContent;\n            },\n            err => console.log(err)\n        );\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CoreModule } from '@alfresco/adf-core';\nimport { ExtensionService } from '@alfresco/adf-extensions';\nimport { MonacoViewComponent } from './monaco-view.component';\nimport { MonacoEditorModule } from 'ngx-monaco-editor';\n\nexport function components() {\n  return [MonacoViewComponent];\n}\n\n@NgModule({\n  imports: [CoreModule.forChild(), MonacoEditorModule.forRoot()],\n  declarations: components(),\n  exports: components(),\n  entryComponents: components()\n})\nexport class AcaMonacoModule {\n  constructor(extensions: ExtensionService) {\n    extensions.setComponents({\n      'monaco-extension.main.component': MonacoViewComponent\n    });\n  }\n}\n"]}